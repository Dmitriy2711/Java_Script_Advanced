<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ITEA-JS ADVANCED - LESSON 2: CLASSWORK 2</title>
  <link rel="stylesheet" href="css/style.min.css" />
</head>
<body>
  <div class="wrap">
    <div class="testBlock hover">
      <button  class="iButton" id="mouseHover">1. Hover!</button>
      <ul id="hoverResult" class="resultBlock">
        <li class="red">Hovered!</li>
        <li class="blue">Hovered!</li>
        <li class="orange">Hovered!</li>
        <li class="orange">Hovered!</li>
        <li class="purple">Hovered!</li>
      </ul>
    </div>

    <div class="testBlock click">
      <button class="iButton" id="mouseClick">2. Click for do things</button>
      <div id="clickResult" class="resultBlock one two three four five six"></div>
    </div>

    <div class="testBlock random">
      <button class="iButton" id="mouseLight">3. Click for turn on lights</button>
      <div id="lightResult" class="resultBlock"></div>
    </div>

    <div class="testBlock keyboard">
      <button class="iButton" id="keyboardButton">4. Press any key</button>
      <div id="keyboardResult" class="resultBlock key-colors"></div>
    </div>

  </div>

  <script>
    let count = 0;
    let parent = document.getElementById('hoverResult');
    let child = parent.querySelectorAll('li');
    /*

      Поработаем немного с ивентами:
      onmouseenter
      onclick
      oncontextmenu
      onkeydown

      Задание:
      На каждую из конопок назначить действие которое будет выполнять следующее действие:
      1.На ховер(onmouseenter) повесить обработчик который будет при каждом наведении
        на кнопку будет выводить в блок результатом елемент li с текстом "hovered!"
        у которого будет один из следующих класов:
        red blue green orange purple

      2.На кнопку клика(onclick) повесить обработчик который будет удалять классы с
        блока с результатом по очереди в таком порядке:

        six > two > three > four > one > five

        после того как блок окажется пустым, добавить их в порядке возрастания

        one > two > three ... > six

      3. На кнопку клика (Light) повесить обработчик, который будет выводить в 
      блок с результатом (lightResult) поочередно один из цветов светофора:
      Цикл: Off -> Red -> Yellow -> Green -> Off

      4. На кнопку с обработчиком нажатия (onkeydown) повесить обработчик который будет:

        - Выводить в блок с результатом(keyboardResult) число нажатий на любую из клавиш клавиатуры.
        - Давать блоку (keyboardResult) классы, которые соотсветствуют числу кликов:

        Н-р:
        1 -> one
        3 -> three
        5 -> five
        11 -> one one
        115 -> one one five



    */

  var mouseHover = document.getElementById('mouseHover');
  var mouseClick = document.getElementById('mouseClick');
  var mouseLight = document.getElementById('mouseLight');
  var keyboardButton = document.getElementById('keyboardButton');
  for(let i = 0; i < child.length; i++){
          child[i].style.display = 'none';
          console.log(child[i]);
      }
  mouseHover.onmouseenter = function(){
        if(count >= 5) {    
            //console.log(child);
            //console.log('reset');
          for(let k = 0; k < child.length; k ++){
            child[k].style.display = 'none';
          }
            //console.log(child);
            return count = 0;
          }
      else{
          child[count].style.display = 'block';
          //console.log('hover');
          //console.log(count);
          return count ++;
          }
  }
      var clickIndex = 0;
      var arraySet = ['one', 'two', 'three', 'four', 'five', 'six'];
      var direction = true;
      var arrayClean = ['six', 'two', 'three', 'four', 'one', 'five'];
      mouseClick.onclick = function(){
        var list = document.getElementById('clickResult');
        var listClass = list.classList;
      if(clickIndex < 6){
        for(let i = 0; i < listClass.length; i ++){
            if(arrayClean[clickIndex] == listClass[i]){
                list.classList.remove(arrayClean[clickIndex]);
            }
        }
      return clickIndex++;
      }
      else {
          let per = arraySet.shift();
          listClass.add(per);
          return arraySet;
      }
    }
  
  let mass = ['Off', 'red', 'yellow', 'green', 'Off'];
  let massColor  = ['black', 'red', 'yellow', 'green', 'black'];
  let divParent = document.getElementById('lightResult');
  divParent.style.display = 'flex';
  divParent.style.flexDirection = 'column';
      for(let k = 0; k < mass.length; k ++){
      let divChild = document.createElement('div');
      let className = divChild.className = mass[k];
      divChild.style.background = massColor[k];
      divChild.style.width = '50%';
      divChild.style.height = '';
      divChild.style.display = 'none';
      divChild.style.textAlign = 'center';
      divChild.style.padding = '5px';
      divChild.innerText = mass[k];
        divParent.appendChild(divChild);
      }
      console.log(divParent);
      mouseLight.onclick = function(e){
          if(count < 5){
          let childs = divParent.querySelectorAll('.resultBlock div');
          childs[count].style.display = 'block';  
          console.log('light');
          return count ++;
          }
          else {
            let childs = divParent.querySelectorAll('.resultBlock div');
            childs.forEach(function(elem,item){
            elem.style.display = 'none';
                  })
          return count = 0;
          } 
      }

    var counter = 0;
  keyboardButton.onkeydown = function(){
    if(counter >= 10) {
      parentRes.innerText = counter;
      parentRes.className = a + " " + array[counter - 1];
    }
        console.log('keydown');
        counter++; 
  }
  </script>
</body>
</html>
